##TCP Options
###Options格式
TCP Option的格式一般如下:

    ----------------------------------
    | kind | len  |      info        |
    ----------------------------------
    | 8bit | 8bit |   len - 2 bytes  |
    ----------------------------------

- kind 表示该option的种类
- len 如果该种kind有len的话，len表示整个option的长度，包括kind和len本身
- info该种option的具体内容

###Options种类

**Kind = 0 结束选项**

    ------------
    | kind = 0 |
    ------------

表示Tcp option结束

**kind = 1 空操作**

    ------------
    | kind = 1 |
    ------------

用于填充TCP Option对其到4字节

**kind = 2 MSS**

    --------------------------------------
    | kind = 1 |  len = 4 | MSS (2bytes) |
    --------------------------------------

在TCP发起握手请求时候协商最大报文长度，以避免报文过长发生分片。

一般MSS = MTU - 40(tcphdr\_len +iphdr\_len),对于以太网而言,其MTU为1460字节,则MSS为1420.

**kind = 3 WSCALE**

    -----------------------------------------
    | kind = 1 |  len = 4 | WSCALE (1bytes) |
    -----------------------------------------

这也是在TCP握手时用来通知对方窗口大小信息，因为TCP头窗口大小选项只有16位，但现在计算机的接受窗口远远不止这个数，为了提高通信效率，我们在TCP Option中使用一个位移因子来配合TCP头窗口大小表示真正的窗口大小，最终大小为WINODWS<<WSACLE.

WSCALE一般为0-14可以通过/proc/sys/net/ipv4/tcp_window_scaling来修改,注意WSALE只出现握手环节，而且之后固定，不会随着TCP 头中窗口大小变动

**kind = 4 SACK开关**

    -----------------------
    | kind = 1 |  len = 2 |
    -----------------------

SACK主要用来弥补快速重传的性能缺陷，当对端发送报名中有一帧缺失后，TCP的快速重传机制就会将从该帧之后所有的报文重传，这是很损耗性能的，尤其在发送速度较快，窗口较大的情况下。于是就有了SACK，SACK通知对方自己已经接受到的片段，对方会检测片段中断的地方重新发送。

kind=4的时候主要表示SACK打开，该option只在握手中出现,可以修改/proc/sys/net/ipv4/tcp_sack打开或者关闭。

**kind = 5 SACK片段**

    -------------------------------------------------------------------------------
    | kind = 1 |  len = 8 * n + 2 | 段左端seq (4bytes) | 段右端seq (4bytes) | ....
    -------------------------------------------------------------------------------

kind = 5表示SACK的具体内容，告诉对端自己的接受状况，以块的形式给出，一个块包括左端的序列号和右端的序列号
限于TCP报文头长度，最多只能有4个段

**kind = 8 TTM**

    ------------------------------------------------------------------
    | kind = 1 |  len = 10 | echo time (4bytes) | ack time  (4bytes) |
    ------------------------------------------------------------------

该选项用来表示收到和发送报文的时间，用于精确的计算RTT，此外也是seq的补充，可以通过/proc/sys/net/ipv4/tcp_timestamps来打开或者关闭
